<script>
  const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSIuRTn83dsU6mrRKryupDMXXgV7fkOKncvgrRyO3Pzqoon3OgAHaA7xL7tb7t3LpFCoFcMzmSAIxB9/pub?output=csv";

  // Fetch CSV data and create buttons
  fetch(sheetURL)
    .then(response => response.text())
    .then(data => {
      const rows = data.split('\n').slice(1); // skip header
      rows.forEach(row => {
        const [buttonLabel, hashtags] = row.split(','); // assumes CSV = name, hashtags
        if (!buttonLabel || !hashtags) return;

        const btn = document.createElement('button');
        btn.innerText = buttonLabel.trim();
        btn.onclick = () => copyHashtags(hashtags.trim());
        document.getElementById('buttons').appendChild(btn);
      });
    });

  // Copy hashtags to clipboard
  function copyHashtags(text) {
    navigator.clipboard.writeText(text).then(() => {
      const confirmation = document.getElementById('copy-confirmation');
      confirmation.classList.add('show');
      setTimeout(() => confirmation.classList.remove('show'), 1000);
    }).catch(() => {
      console.error('❌ Failed to copy hashtags.');
    });
  }

  // Dark mode toggle
  const toggle = document.getElementById('darkModeSwitch');
  toggle.addEventListener('change', () => {
    document.body.classList.toggle('dark-mode');
  });
</script>
